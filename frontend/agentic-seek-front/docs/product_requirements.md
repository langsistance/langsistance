# Agentic Seek 前端产品需求文档（PRD）

## 1. 项目背景与目标

本项目旨在实现一个“知识/工具”聚合展示平台，支持多种知识点与工具的浏览、搜索和分类。  
- 以截图二为核心原型，截图一为交互与视觉风格参考。
- 技术栈：React + TailwindCSS。

## 2. 页面结构与模块划分

- **顶部标题区**：页面主标题，突出品牌/产品定位。
- **搜索框**：支持关键词检索知识/工具。
- **Tab 分类导航**：分为“知识”、“工具”两大类，支持切换。
- **内容区**：以卡片形式展示知识/工具，支持分页或滚动加载。
- **卡片操作**：每个卡片右上角有“...”操作入口，支持更多操作（如详情、收藏、复制等）。
- **其它**：预留“查看更多”或分页加载入口。

## 3. 主要功能点

- 搜索：支持模糊检索，实时反馈。
- Tab 分类切换：切换“知识”与“工具”视图，内容动态刷新。
- 卡片展示：每行两列，卡片内容包括名称、类型、操作入口。
- 卡片操作：点击“...”弹出操作菜单。
- 响应式布局：适配桌面与移动端。
- 空状态与异常处理。

## 4. 交互流程

- 用户进入首页，默认展示“知识”Tab内容。
- 输入关键词，实时过滤展示结果。
- 切换Tab，内容区随之切换。
- 点击卡片“...”弹出操作菜单。
- 支持查看更多/分页加载。

### 4.1 知识卡片“...”下拉菜单与复制交互

- 每个知识卡片右上角有“...”按钮。
- 点击“...”后弹出下拉菜单，菜单项包括“复制（Copy）”。
- 点击“复制”菜单项后，弹出知识详情弹窗，弹窗内容包括该知识的所有字段（如：问题、描述、答案、模型名、参数等）。
- 弹窗底部有一个“复制”按钮。
- 点击弹窗内“复制”按钮时，调用 `/copy_knowledge` 接口（接口参数与响应需补充），并可选地将知识内容复制到剪贴板。
- 成功后弹出“复制成功”提示。

## 5. UI/UX 设计要点

- 视觉风格参考截图一，简洁、现代、留白充足。
- 卡片圆角、阴影、悬停高亮。
- 搜索框居中，Tab 分类突出当前选中。
- 操作按钮（...）交互友好，菜单弹窗需有点击外部关闭逻辑。
- 适配移动端，卡片可单列展示。
- 知识详情弹窗风格与主界面一致，内容分组清晰，底部按钮固定。

## 6. 数据结构与接口需求

- **卡片数据结构**（示例）：
  ```json
  {
    "id": "string",
    "type": "knowledge|tool",
    "name": "string",
    "description": "string",
    "icon": "url",
    "actions": ["detail", "favorite", "copy", ...]
  }
  ```
- **接口需求**：
  - 获取全部知识/工具列表（支持分页、分类、搜索参数）
  - 搜索接口（关键词模糊匹配）
  - 详情接口（可选）
  - 错误与加载状态返回

### 6.1 知识接口

- 查询公开知识接口：`/query_public_knowledge`
- 详见 [`docs/technical/api/knowledge_api.md`](../../docs/technical/api/knowledge_api.md)
- 主要参数：
  - `query` (string, 可选): 搜索关键词
  - `limit` (int, 可选): 返回数量，默认10，最大100
  - `offset` (int, 可选): 分页偏移量，默认0
- 响应字段参考 `KnowledgeItem` 结构

#### 6.1.1 复制接口

- 复制知识接口：`/copy_knowledge`
- 请求参数：
  - `knowledgeId` (int): 要复制的知识ID
  - `userId` (string): 当前用户ID（如有登录）
- 响应参数：
  - `success` (boolean)
  - `message` (string)
  - `id` (int): 新创建的知识记录ID

### 6.2 工具接口

- 查询公开工具接口：`/query_public_tools`
- 详见 [`docs/technical/api/tools_api.md`](../../docs/technical/api/tools_api.md)
- 主要参数：
  - `query` (string, 可选): 搜索关键词
  - `limit` (int, 可选): 返回数量，默认10，最大100
  - `offset` (int, 可选): 分页偏移量，默认0
- 响应字段参考 `ToolItem` 结构

#### 6.2.1 复制接口

- 复制工具接口：`/copy_tool` （注：后端未实现，前端可自行实现）
- 请求参数：
  - `toolId` (int): 要复制的工具ID
  - `userId` (string): 当前用户ID（如有登录）
- 响应参数：
  - `success` (boolean)
  - `message` (string)
  - `id` (int): 新创建的工具记录ID
  
## 7. 响应式与适配要求

- 桌面端：每行两列卡片，宽屏居中。
- 移动端：单列卡片，元素自适应宽度。
- TailwindCSS 方案，优先使用原子类。

## 8. 边界与异常处理

- 无数据时展示友好提示。
- 搜索无结果时展示空状态。
- 网络异常时展示错误提示。
- 加载中有骨架屏或 loading 动画。

## 9. 非功能需求

- 性能：页面加载快，交互流畅。
- 可访问性：Tab 可键盘切换，卡片可聚焦。
- SEO：主标题、描述等支持爬虫抓取。
- 代码可维护性：组件化、样式分离、注释清晰。

---

## 10. 多语言支持

- **目标**：支持中英文（后续可扩展更多语言），用户可在界面切换语言。
- **技术方案**：推荐使用 i18next、react-i18next 或 react-intl 进行国际化。
- **实现要点**：
  - 所有 UI 文本、提示、按钮、菜单等均需国际化。
  - 语言切换入口建议放在页面右上角或设置菜单。
  - 默认语言根据浏览器或用户设置自动切换。
  - 资源文件结构建议：`/locales/zh-CN/translation.json`、`/locales/en/translation.json` 等。
  - 支持动态加载语言包，减少首屏体积。
  - 需考虑接口返回内容的多语言适配（如知识/工具描述等，若后端支持多语言字段则前端可切换，否则仅 UI 多语言）。

---

## 11. 参考说明

- 截图一为交互与视觉风格参考，实际功能与布局以截图二为主。
- 后续如需补充其它需求，可在本 PRD 后续章节补充。

---

## 12. 开发环境与Mock功能

### 12.1 Mock功能说明

为了方便前端开发和测试，项目集成了Mock Service Worker (MSW)功能，可以在没有后端服务的情况下模拟API响应。

### 12.2 启用Mock功能

Mock功能默认在开发环境中启用，可以通过以下环境变量控制：

- `REACT_APP_MOCK_API`: 在开发环境中控制是否启用Mock服务（默认为true）
- `REACT_APP_MOCK_API_FORCE`: 强制启用Mock服务（用于测试环境）

### 12.3 Mock数据

Mock数据定义在 `src/mocks/handlers.js` 文件中，包括以下接口的模拟响应：
- `/latest_answer`
- `/health`
- `/stop`
- `/query`
- `/query_public_knowledge`
- `/query_public_tools`
- `/copy_knowledge`

### 12.4 自定义Mock数据

开发人员可以根据需要修改 `src/mocks/handlers.js` 文件中的mock数据，以适应不同的测试场景。
